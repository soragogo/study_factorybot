## minitest-rails
`minitest-rails`gemを導入すれば、Specスタイルのテストが書けるようになる

## mdで表を挿入
|  | デフォルト | minitest-rails導入後 |
|--------|---------|---------|
| **構造**   | `class UserTest < ActiveSupport::TestCase`   | `describe User do  end` |
| **テスト定義** | `test "ユーザーの名前が正しいこと" do` | `it "ユーザーの名前が正しいこと" do  end` |
| **事前処理** | `setup do`   | `before do  end` |
| **変数定義** | `user = User.new`   | `let(:user) { User.new }` |


## 構造 (describe ブロック)
### 役割
* テスト対象の宣言：「今から何をテストするのか」を宣言する。
* スコープの作成: このブロック内で定義された変数(`let`など)や事前処理(`before`など)は、このブロック内でのみ有効になる。
### context ブロックとの違い
* `context`ブロックは、`describe`ブロックのエイリアスであり、機能的には同じである
* 特定の条件や状況を説明するために使用されることが多い
* describe = 章、context = 節 のイメージ

## テスト定義 (it ブロック)
* 特定の機能や振る舞いをテストするために使用される
* `it`ブロック内にテストコードを記述する

## 事前処理 (before ブロック)
* 各テストの実行前に共通の処理を行うために使用される
* `before`ブロック内に事前処理のコードを記述する

## 主題 (subject メソッド)
### 役割
* テスト対象のオブジェクトを定義するために使用される
* `subject`で定義されたオブジェクトは、テスト内で`subject`という名前で参照できる
* デフォルトで遅延評価され、最初に参照されたときに初めて評価される
* 引数を取ることもでき、その場合はその引数を使用してオブジェクトを初期化する
### usage
```ruby
subject { create(:user, name: "Alice") }
```

## 変数定義 (let メソッド)
### 役割
* テスト内で使用する変数を定義するために使用される（テストに依存するデータなど）
* `let`で定義された変数は、テスト内で`let`という名前で参照できる
* デフォルトで遅延評価される
* 引数を取ることもでき、その場合はその引数を使用して変数を初期化する

### usage
```ruby
let(:user) { create(:user, name: "Bob") }
```

### let! メソッド
* `before`ブロックと同様に、各テストの前に即座に評価される
